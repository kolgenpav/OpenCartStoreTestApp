package org.example;

import org.example.opencartpages.HomePage;
import org.example.opencartpages.ShoppingCartEmptyPage;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

/**
 * 1. go to <a href="https://demo.opencart.com/">...</a> get HomePage
 * 2. in the main menu of the HomePage, click on Shopping Cart
 * 3. Check that the page is empty (check the content of the label: "Your shopping cart is empty!")
 * 4. click on the Continue button
 * 5. Make sure the HomePage is loaded.
 *
 * @author Hennadii Kolomoiets
 */
public class ShoppingCartOpenTest extends TestRunnerFirst {

    @Test
    public void shoppingCartOpenTest() {
        HomePage startPage = loadApplication();
        // click on Shopping Cart in the top menu
        ShoppingCartEmptyPage cartEmptyPage = startPage.shoppingCartLinkClick();
        Assertions.assertEquals(ShoppingCartEmptyPage.EXPECTED_SHOPPING_CART_EMPTY_LABEL,
                cartEmptyPage.getShoppingCartEmptyLabel().getText());
        // click on the Continue button in the empty Shopping Cart page
        HomePage homePage = cartEmptyPage.leaveShoppingCart();
        Assertions.assertEquals(HomePage.EXPECTED_HOMEPAGE_TITLE,
                homePage.getHomePageTitle());
    }
}
